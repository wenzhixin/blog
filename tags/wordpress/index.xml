<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Wordpress on 文翼的博客</title>
    <link>http://blog.wenzhixin.net.cn/tags/wordpress/</link>
    <description>Recent content in Wordpress on 文翼的博客</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <copyright>wenzhixin.net.cn 粤ICP备15117953号</copyright>
    <lastBuildDate>Tue, 15 Jan 2013 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://blog.wenzhixin.net.cn/tags/wordpress/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>wordpress 插件开发</title>
      <link>http://blog.wenzhixin.net.cn/2013/01/15/wordpress_plugin</link>
      <pubDate>Tue, 15 Jan 2013 00:00:00 +0000</pubDate>
      
      <guid>http://blog.wenzhixin.net.cn/2013/01/15/wordpress_plugin</guid>
      <description>

&lt;h4 id=&#34;1-创建插件:c0b8d5a98f9234ad6795d441ab0605e0&#34;&gt;1. 创建插件&lt;/h4&gt;

&lt;p&gt;在目录 wp-content/plugins 下创建自己的插件&lt;/p&gt;

&lt;p&gt;新建目录 plugin-demo&lt;/p&gt;

&lt;p&gt;新建文件 plugin-demo.php&lt;/p&gt;
&lt;?php
/*
Plugin Name: Plugin Demo
Description: 此插件用于插件演示
Version: 1.0
Author: zhixin wen
Author URI: http://wenzhixin.net.cn
*/
?&gt;

&lt;h4 id=&#34;2-添加实现类和添加菜单:c0b8d5a98f9234ad6795d441ab0605e0&#34;&gt;2. 添加实现类和添加菜单&lt;/h4&gt;
class PluginDemo {

    //现实版本号
    function version() {
        return 1.0;
    }

    //添加菜单
    function addMenu() {
        add_submenu_page(&#39;edit.php&#39;, &#39;插件演示&#39;, &#39;演插件演示&#39;, 8, __FILE__, array(&#39;PluginDemo&#39;, &#39;settings&#39;));
    }

    function settings() {
        echo file_get_contents(plugins_url(&#39;&#39;, __FILE__) . &#39;/index.tpl&#39;);
    }
}

add_action(&#39;admin_menu&#39;, array(&#39;PluginDemo&#39;, &#39;addMenu&#39;));

&lt;h4 id=&#34;3-新建文件-index-tpl-用于显示插件界面:c0b8d5a98f9234ad6795d441ab0605e0&#34;&gt;3. 新建文件 index.tpl 用于显示插件界面&lt;/h4&gt;
&lt;h2&gt;插件演示&lt;/div&gt;
&lt;div&gt;演示内容&lt;/div&gt;

&lt;h4 id=&#34;4-添加-javascript-文件:c0b8d5a98f9234ad6795d441ab0605e0&#34;&gt;4. 添加 javascript 文件&lt;/h4&gt;
class PluginDemo {

    ...

    function addScripts() {
        self::addScript(&#39;jquery.js&#39;);
        self::addScript(&#39;index.js&#39;);
    }

    function addScript($script) {
        $file = plugins_url(&#39;&#39;, __FILE__) . &#39;/js/&#39; . $script;
        wp_register_script($script, $file);
        wp_enqueue_script($script);
    }
   }

add_action(&#39;admin_print_scripts&#39;, array(&#39;PluginDemo&#39;, &#39;addScripts&#39;));

&lt;h4 id=&#34;5-使用-ajax-请求:c0b8d5a98f9234ad6795d441ab0605e0&#34;&gt;5. 使用 ajax 请求&lt;/h4&gt;

&lt;p&gt;新建 index.js&lt;/p&gt;
$(function() {
    ...

    $.get(URI, function(data) {

    });

    $.post(URI, params, function(data) {

    });
});

&lt;h4 id=&#34;6-添加接口文件:c0b8d5a98f9234ad6795d441ab0605e0&#34;&gt;6. 添加接口文件&lt;/h4&gt;

&lt;p&gt;新建 api.php&lt;/p&gt;
switch ($_SERVER[&#39;REQUEST_METHOD&#39;]) {
    case &#39;GET&#39;:
        echo &#39;get data&#39;;
        break;
    case &#39;POST&#39;:
        $input = file_get_contents(&#34;php://input&#34;);
        break;
}

&lt;h4 id=&#34;7-启用插件:c0b8d5a98f9234ad6795d441ab0605e0&#34;&gt;7. 启用插件&lt;/h4&gt;

&lt;p&gt;到插件管理界面，点击启用，搞定！&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>wordpress 修改IP地址后进不去后台的解决方法</title>
      <link>http://blog.wenzhixin.net.cn/2012/09/14/solution_wordpress_to_change_the_ip_address_after_not_go_back</link>
      <pubDate>Fri, 14 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>http://blog.wenzhixin.net.cn/2012/09/14/solution_wordpress_to_change_the_ip_address_after_not_go_back</guid>
      <description>

&lt;h4 id=&#34;1-登录数据库:abeaf683869642fb267a8ac67f3a7254&#34;&gt;1、登录数据库&lt;/h4&gt;
mysql -uroot -ppassword wordpress

&lt;h4 id=&#34;2-更新-wp-options-表:abeaf683869642fb267a8ac67f3a7254&#34;&gt;2、更新 wp_options 表&lt;/h4&gt;
update wp_options set option_value = &#39;http://newip/wordpress&#39; where option_name = &#39;siteurl&#39; or option_name = &#39;home&#39;;

&lt;hr /&gt;

&lt;p&gt;注：使用 shell 脚本&lt;/p&gt;
vi setwordpress

&lt;p&gt;输入内容：&lt;/p&gt;
#! /bin/bash
# set wordpress admin ip

param=$#

if [ $param -eq 1 ]; then
        echo &#34;update wp_options set option_value = &#39;http://&#34;$1&#34;/wordpress&#39; where option_name = &#39;siteurl&#39; or option_name = &#39;home&#39;;&#34; &gt; setwordpress.tmp
        mysql -uroot -ppassword wordpress &lt; setwordpress.tmp
        rm setwordpress.tmp
        echo &#34;OK...&#34;
        exit 0
fi

echo &#34;use: $0 IP Address (127.0.0.1)&#34;

&lt;hr /&gt;

&lt;p&gt;更正文章中内部链接及附件的地址：&lt;/p&gt;
update wp_posts set post_content = replace(post_content, &#39;http://www.old-domain.com&#39;, &#39;http://www.new-domain.com&#39;);
</description>
    </item>
    
    <item>
      <title>wordpress 修改IP地址后进不去后台的解决方法</title>
      <link>http://blog.wenzhixin.net.cn/2012/09/14/solution_wordpress_to_change_the_ip_address_after_not_go_back</link>
      <pubDate>Fri, 14 Sep 2012 00:00:00 +0000</pubDate>
      
      <guid>http://blog.wenzhixin.net.cn/2012/09/14/solution_wordpress_to_change_the_ip_address_after_not_go_back</guid>
      <description>

&lt;h4 id=&#34;1-登录数据库:abeaf683869642fb267a8ac67f3a7254&#34;&gt;1、登录数据库&lt;/h4&gt;
mysql -uroot -ppassword wordpress

&lt;h4 id=&#34;2-更新-wp-options-表:abeaf683869642fb267a8ac67f3a7254&#34;&gt;2、更新 wp_options 表&lt;/h4&gt;
update wp_options set option_value = &#39;http://newip/wordpress&#39; where option_name = &#39;siteurl&#39; or option_name = &#39;home&#39;;

&lt;hr /&gt;

&lt;p&gt;注：使用 shell 脚本&lt;/p&gt;
vi setwordpress

&lt;p&gt;输入内容：&lt;/p&gt;
#! /bin/bash
# set wordpress admin ip

param=$#

if [ $param -eq 1 ]; then
        echo &#34;update wp_options set option_value = &#39;http://&#34;$1&#34;/wordpress&#39; where option_name = &#39;siteurl&#39; or option_name = &#39;home&#39;;&#34; &gt; setwordpress.tmp
        mysql -uroot -ppassword wordpress &lt; setwordpress.tmp
        rm setwordpress.tmp
        echo &#34;OK...&#34;
        exit 0
fi

echo &#34;use: $0 IP Address (127.0.0.1)&#34;

&lt;hr /&gt;

&lt;p&gt;更正文章中内部链接及附件的地址：&lt;/p&gt;
update wp_posts set post_content = replace(post_content, &#39;http://www.old-domain.com&#39;, &#39;http://www.new-domain.com&#39;);
</description>
    </item>
    
  </channel>
</rss>