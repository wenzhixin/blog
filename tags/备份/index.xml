<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>备份 on 文翼的博客</title>
    <link>http://blog.wenzhixin.net.cn/tags/%E5%A4%87%E4%BB%BD/</link>
    <description>Recent content in 备份 on 文翼的博客</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <copyright>wenzhixin.net.cn 粤ICP备15117953号</copyright>
    <lastBuildDate>Thu, 14 Nov 2013 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://blog.wenzhixin.net.cn/tags/%E5%A4%87%E4%BB%BD/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>导出或者备份新浪轻博客</title>
      <link>http://blog.wenzhixin.net.cn/2013/11/14/sina_qing_export_or_backup</link>
      <pubDate>Thu, 14 Nov 2013 00:00:00 +0000</pubDate>
      
      <guid>http://blog.wenzhixin.net.cn/2013/11/14/sina_qing_export_or_backup</guid>
      <description>&lt;p&gt;新浪轻博客没有提供 RSS 或者导出等功能，很不方便对博客进行备份或者迁移。
不过我们可以换种思路，那就是对博客网页进行解析从而得到我们想要的内容，包括：
标题、标签、日期、内容、评论等。&lt;/p&gt;

&lt;p&gt;这里使用 &lt;a href=&#34;https://github.com/mape/node-scraper&#34;&gt;node-scraper&lt;/a&gt; 对网页进行解析。&lt;/p&gt;
var scraper = require(&#39;scraper&#39;);
scraper(&#39;http://qing.blog.sina.com.cn/2292826740/profile&#39;, function(err, $) {
    if (err) {throw err;}

    $(&#39;ul.archivelist .txtz strong a&#39;).each(function(i) {
        var href = $(this).attr(&#39;href&#39;);
        console.log(href);
    });
});

&lt;p&gt;他的原理是，首先获取（get）整个网页的内容，过滤 script 脚本，
并把 head 和 body 的内容放到 jQuery 中，这样我们就可以相当于在浏览器中，
用 jQuery 对 dom 进行操作了。&lt;/p&gt;

&lt;p&gt;先获取归档页面，这样就可以得到所有文章的地址了，在对每篇文章进行独一解析。&lt;/p&gt;

&lt;p&gt;这里仅仅提供了一种思路，对于其他需要解析网页内容的当然也适用，关键代码：&lt;/p&gt;
scraper(&#39;http://qing.blog.sina.com.cn/2292826740/profile&#39;, function(err, $) {
    if (err) throw err;

    var hrefs = [];

    $(&#39;ul.archivelist .txtz strong a&#39;).each(function(i) {
        scraper($(this).attr(&#39;href&#39;), function(err, $) {
            var $post = $(&#39;.post&#39;),
                $content = $post.find(&#39;div.caption&#39;),
                post = {};

            post.title = $.trim($post.find(&#39;span.title&#39;).text());
            post.tags = [];
            $post.find(&#39;.tags a&#39;).each(function() {
                post.tags.push($(this).text());
            });
            post.date = $post.find(&#39;p.label strong&#39;).text() + &#39;/&#39; + $post.find(&#39;p.label em&#39;).text();
            post.content = $content.text();

            console.log(post);
        });
    });
});

&lt;p&gt;获取了文章信息之后，在写到文件（markdown）或者写入到数据库即可。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>移动硬盘安全吗？备份数据真的很重要！</title>
      <link>http://blog.wenzhixin.net.cn/2013/10/23/hdd_is_not_safe</link>
      <pubDate>Wed, 23 Oct 2013 00:00:00 +0000</pubDate>
      
      <guid>http://blog.wenzhixin.net.cn/2013/10/23/hdd_is_not_safe</guid>
      <description>&lt;p&gt;我的移动硬盘居然挂掉了，简直不敢相信！才买了不到一年的时间，平时也很少用到。&lt;/p&gt;

&lt;p&gt;因为之前笔记本硬盘坏了，所以买了移动硬盘（还是有牌子的），买它就是为了保存我的重要的数据文件的，为什么突然就坏了呢。。。&lt;/p&gt;

&lt;p&gt;接上电脑，无法识别该移动硬盘，显示需要格式化才能继续使用。
错误的信息为：&lt;/p&gt;
MFT is corrupt, cannot read its unmapped extent record 415777
Note : chkdsk cannot fix this, try ntfsfix
Inode is corrupt (0): 输入/输出错误
Failed to load runlist for $MFT/$DATA.
highest_vcn = 0x3, last_vcn - 1 = 0x1963f
Failed to load $MFT: 输入/输出错误
Failed to mount &#39;/dev/sdc1&#39;: 输入/输出错误
NTFS is either inconsistent, or there is a hardware fault, or it&#39;s a
SoftRAID/FakeRAID hardware. In the first case run chkdsk /f on Windows
then reboot into Windows twice. The usage of the /f parameter is very
important! If the device is a SoftRAID/FakeRAID then first activate
it and mount a different device under the /dev/mapper/ directory, (e.g.
/dev/mapper/nvidia_eahaabcc1). Please see the &#39;dmraid&#39; documentation
for more details.

&lt;p&gt;根据提示，在 Windows 系统中运行 chkdsk /f 对硬盘进行检查，是文件的索引损害了，导致无法正常的读取文件的内容，程序会自动将索引删除。&lt;/p&gt;

&lt;p&gt;上网查了一下原因，才知道是因为我把移动硬盘挂载到树莓派上，供电不足或者电压不稳定，所以才出现损坏的情况。&lt;/p&gt;

&lt;p&gt;有看到其他原因导致移动硬盘出问题的，
例如有研究生不小心将导师的移动硬盘掉在地上，导致整个实验室长达半年的研究结果及多篇论文丢失，对学术研究造成无可挽回的损害。&lt;/p&gt;

&lt;p&gt;其实，由于移动硬盘经常随身携带，很容易造成碰撞和跌落，例如我是骑车上下班，会经常颠簸到，出现问题也是比较正常的。&lt;/p&gt;

&lt;p&gt;可见，移动硬盘安全吗？答案当然是否定的，备份数据真的很重要！&lt;/p&gt;

&lt;p&gt;以后要及时备份重要的数据才行，例如专业资料、代码、照片、文章等等，因为这些丢失了，是需要付出惨重的时间和代价的。&lt;/p&gt;

&lt;p&gt;（后记：虽然后面硬盘中的内容都找回来了，但是却花了好多时间和精力。）&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>