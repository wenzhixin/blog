<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>跨域 on 文翼的博客</title>
    <link>http://blog.wenzhixin.net.cn/tags/%E8%B7%A8%E5%9F%9F/</link>
    <description>Recent content in 跨域 on 文翼的博客</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <copyright>wenzhixin.net.cn 粤ICP备15117953号</copyright>
    <lastBuildDate>Thu, 05 Jun 2014 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://blog.wenzhixin.net.cn/tags/%E8%B7%A8%E5%9F%9F/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>使用 apache2 作为代理服务器轻松解决 Ajax 跨域问题</title>
      <link>http://blog.wenzhixin.net.cn/2014/06/05/apache_proxy</link>
      <pubDate>Thu, 05 Jun 2014 00:00:00 +0000</pubDate>
      
      <guid>http://blog.wenzhixin.net.cn/2014/06/05/apache_proxy</guid>
      <description>

&lt;h3 id=&#34;介绍:299d40c8bf8f0942a2f38dea542412ab&#34;&gt;介绍&lt;/h3&gt;

&lt;p&gt;我们知道，使用 JavaScript 进行开发 Ajax 应用的时候会有跨域访问的问题，而用代理便可以解决跨域访问的问题。
那么应该如何开启 apache2 的 http 代理模块呢？&lt;/p&gt;

&lt;p&gt;模块 &lt;a href=&#34;http://www.2cto.com/shouce/ApacheManual/mod/mod_proxy.html&#34;&gt;mod_proxy&lt;/a&gt;实现了Apache的代理/网关。
它实现了以下规范的代理 FTP， CONNECT（用于SSL）， HTTP/0.9， HTTP/1.0，和 HTTP/1.1。
此模块经配置后可用上述或其它协议连接其它代理模块。&lt;/p&gt;

&lt;h3 id=&#34;启动:299d40c8bf8f0942a2f38dea542412ab&#34;&gt;启动&lt;/h3&gt;

&lt;p&gt;在 apache2 的安装目录下，有这样的两个目录：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;/etc/apache2/mods-enabled/ 已经被启用的模块&lt;/li&gt;
&lt;li&gt;/etc/apache2/mods-available/ 当前系统中可用的模块&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;我们可以使用下列命令来启用（或禁用）proxy 模块：&lt;/p&gt;
sudo a2enmod proxy
sudo a2enmod proxy_http

sudo a2dismod proxy
sudo a2dismod proxy_http

&lt;p&gt;启用完之后重启 apache 即可：&lt;/p&gt;
sudo service apache restart

&lt;h3 id=&#34;配置:299d40c8bf8f0942a2f38dea542412ab&#34;&gt;配置&lt;/h3&gt;

&lt;p&gt;新建配置文件：&lt;/p&gt;
sudo vi /etc/apache2/site-enabled/proxy.conf
&lt;IfModule mod_proxy.c&gt;
	ProxyPass /api http://wenzhixin.net.cn/api
	ProxyPassReverse /api http://wenzhixin.net.cn/api
&lt;/IfModule&gt;

&lt;p&gt;这里使用了 &lt;a href=&#34;http://www.2cto.com/shouce/ApacheManual/mod/mod_proxy.html#proxypass&#34;&gt;ProxyPass&lt;/a&gt; 和 &lt;a href=&#34;http://www.2cto.com/shouce/ApacheManual/mod/mod_proxy.html#proxypassreverse&#34;&gt;ProxyPassReverse&lt;/a&gt; 指令：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ProxyPass：将一个远端服务器映射到本地服务器的URL空间中&lt;/li&gt;
&lt;li&gt;ProxyPassReverse：调整由反向代理服务器发送的HTTP回应头中的URL&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;保存，重启 apache2。&lt;/p&gt;

&lt;p&gt;到这里，我们就可以通过直接访问 &lt;code&gt;http://127.0.0.1/api&lt;/code&gt;来代理远程服务器的 api 接口了，从而解决了跨域的问题。&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;相关问题：&lt;a href=&#34;http://wenzhixin.net.cn/2012/08/01/the_use_of_nginx_as_a_proxy_server_easily_solve_the_cross_domain_ajax_problem&#34;&gt;使用 nginx 作为代理服务器轻松解决 Ajax 跨域问题&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>使用 nginx 作为代理服务器轻松解决 Ajax 跨域问题</title>
      <link>http://blog.wenzhixin.net.cn/2012/08/01/the_use_of_nginx_as_a_proxy_server_easily_solve_the_cross_domain_ajax_problem</link>
      <pubDate>Wed, 01 Aug 2012 00:00:00 +0000</pubDate>
      
      <guid>http://blog.wenzhixin.net.cn/2012/08/01/the_use_of_nginx_as_a_proxy_server_easily_solve_the_cross_domain_ajax_problem</guid>
      <description>

&lt;h4 id=&#34;1-安装-nginx:c454f079fec5970fae8ce8ed94772b28&#34;&gt;1、安装 nginx：&lt;/h4&gt;
sudo apt-get install nginx

&lt;h4 id=&#34;2-配置-nginx:c454f079fec5970fae8ce8ed94772b28&#34;&gt;2、配置 nginx：&lt;/h4&gt;
sudo vi /etc/nginx/sites-enabled/default

&lt;p&gt;输入内容：&lt;/p&gt;
server {   
        listen 8080;
    
        location /api {   
                proxy_pass http://myserver/api;
                access_log off;
        }
}

&lt;h4 id=&#34;3-重启:c454f079fec5970fae8ce8ed94772b28&#34;&gt;3、重启&lt;/h4&gt;
sudo /etc/init.d/nginx restart

&lt;h4 id=&#34;4-使用:c454f079fec5970fae8ce8ed94772b28&#34;&gt;4、使用：&lt;/h4&gt;
var SERVER_URI = &#34;/api&#34;; 
</description>
    </item>
    
    <item>
      <title>使用 nginx 作为代理服务器轻松解决 Ajax 跨域问题</title>
      <link>http://blog.wenzhixin.net.cn/2012/08/01/the_use_of_nginx_as_a_proxy_server_easily_solve_the_cross_domain_ajax_problem</link>
      <pubDate>Wed, 01 Aug 2012 00:00:00 +0000</pubDate>
      
      <guid>http://blog.wenzhixin.net.cn/2012/08/01/the_use_of_nginx_as_a_proxy_server_easily_solve_the_cross_domain_ajax_problem</guid>
      <description>

&lt;h4 id=&#34;1-安装-nginx:c454f079fec5970fae8ce8ed94772b28&#34;&gt;1、安装 nginx：&lt;/h4&gt;
sudo apt-get install nginx

&lt;h4 id=&#34;2-配置-nginx:c454f079fec5970fae8ce8ed94772b28&#34;&gt;2、配置 nginx：&lt;/h4&gt;
sudo vi /etc/nginx/sites-enabled/default

&lt;p&gt;输入内容：&lt;/p&gt;
server {   
        listen 8080;
    
        location /api {   
                proxy_pass http://myserver/api;
                access_log off;
        }
}

&lt;h4 id=&#34;3-重启:c454f079fec5970fae8ce8ed94772b28&#34;&gt;3、重启&lt;/h4&gt;
sudo /etc/init.d/nginx restart

&lt;h4 id=&#34;4-使用:c454f079fec5970fae8ce8ed94772b28&#34;&gt;4、使用：&lt;/h4&gt;
var SERVER_URI = &#34;/api&#34;; 
</description>
    </item>
    
  </channel>
</rss>